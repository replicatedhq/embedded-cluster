# This should WARN: Multiple ports within supported range
# Expected warnings:
#   - port 8080 is already supported
#   - port 443 is already supported
#   - port 9090 is already supported
apiVersion: embeddedcluster.replicated.com/v1beta1
kind: Config
metadata:
  name: multiple-invalid-ports
spec:
  extensions:
    velero:
      plugins:
        - name: velero-plugin-postgresql
          image: ghcr.io/banjoh/velero-plugin-cnpg-restore:latest
          imagePullPolicy: Always
  unsupportedOverrides:
    builtInExtensions:
    - name: adminconsole
      values: |
        service:
          nodePort: 8080
    - name: openebs
      values: |
        apiServer:
          service:
            nodePort: 443
        localProvisioner:
          hostpathClass:
            nodePort: 50000
    - name: registry
      values: |
        service:
          nodePort: 9090