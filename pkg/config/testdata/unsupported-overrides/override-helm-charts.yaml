config: |-
  apiVersion: k0sctl.k0sproject.io/v1beta1
  kind: Cluster
  metadata:
    name: ec
  spec:
    hosts: []
    k0s:
      version: v1.28.4+k0s.0-ec.0
      dynamicConfig: true
      config:
        apiVersion: k0s.k0sproject.io/v1beta1
        kind: ClusterConfig
        metadata:
          name: ec
        spec:
          api:
            extraArgs:
              service-node-port-range: 80-32767
          extensions:
            helm:
              charts:
              - chartname: openebs/openebs
                name: openebs
                namespace: openebs
                order: 1
                timeout: 0
                values: |
                  localprovisioner:
                    hostpathClass:
                      isDefaultClass: false
                  ndm:
                    enabled: false
                  ndmOperator:
                    enabled: false
                version: 0.0.0
          network:
            provider: calico
          telemetry:
            enabled: false
override: |-
  apiVersion: embeddedcluster.replicated.com/v1beta1
  kind: Config
  spec:
    version: 1.28.4+ec.5
    unsupportedOverrides:
      k0s: |
        config:
          spec:
            extensions:
              helm:
                charts:
                - chartname: openebs/openebs
                  name: openebs
                  namespace: openebs
                  order: 1
                  timeout: 0
                  values: |
                    localprovisioner:
                      hostpathClass:
                        isDefaultClass: true
                    ndm:
                      enabled: true
                    ndmOperator:
                      enabled: true
                  version: 3.9.0
                - chartname: test/test
                  values: |-
                    test:
                      aproperty: avalue
                  version: 1.0.0
expected: |
  apiVersion: k0sctl.k0sproject.io/v1beta1
  kind: Cluster
  metadata:
    name: ec
  spec:
    hosts: []
    k0s:
      version: v1.28.4+k0s.0-ec.0
      versionChannel: stable
      dynamicConfig: true
      config:
        apiVersion: k0s.k0sproject.io/v1beta1
        kind: ClusterConfig
        metadata:
          name: ec
        spec:
          api:
            extraArgs:
              service-node-port-range: 80-32767
          extensions:
            helm:
              charts:
              - chartname: openebs/openebs
                name: openebs
                namespace: openebs
                order: 1
                timeout: 0
                values: |
                  localprovisioner:
                    hostpathClass:
                      isDefaultClass: true
                  ndm:
                    enabled: true
                  ndmOperator:
                    enabled: true
                version: 3.9.0
              - chartname: test/test
                values: |-
                  test:
                    aproperty: avalue
                version: 1.0.0
          network:
            provider: calico
          telemetry:
            enabled: false
