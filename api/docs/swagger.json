{"swagger":"2.0","info":{"description":"This is the API for the Embedded Cluster project.","title":"Embedded Cluster API","termsOfService":"http://swagger.io/terms/","contact":{"name":"API Support","url":"https://github.com/replicatedhq/embedded-cluster/issues","email":"support@replicated.com"},"license":{"name":"Apache 2.0","url":"http://www.apache.org/licenses/LICENSE-2.0.html"},"version":"0.1"},"basePath":"/api","paths":{"/auth/login":{"post":{"description":"Authenticate a user","consumes":["application/json"],"produces":["application/json"],"tags":["auth"],"summary":"Authenticate a user","parameters":[{"description":"Auth Request","name":"request","in":"body","required":true,"schema":{"$ref":"#/definitions/types.AuthRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/types.AuthResponse"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/types.APIError"}}}}},"/health":{"get":{"description":"get the health of the API","produces":["application/json"],"tags":["health"],"summary":"Get the health of the API","responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/types.Health"}}}}},"/install/host-preflights/run":{"post":{"security":[{"bearerauth":[]}],"description":"Run install host preflight checks using installation config and client-provided data","consumes":["application/json"],"produces":["application/json"],"tags":["install"],"summary":"Run install host preflight checks","parameters":[{"description":"Post Install Run Host Preflights Request","name":"request","in":"body","required":true,"schema":{"$ref":"#/definitions/types.PostInstallRunHostPreflightsRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/types.InstallHostPreflightsStatusResponse"}}}}},"/install/host-preflights/status":{"get":{"security":[{"bearerauth":[]}],"description":"Get the current status and results of host preflight checks for install","produces":["application/json"],"tags":["install"],"summary":"Get host preflight status for install","responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/types.InstallHostPreflightsStatusResponse"}}}}},"/install/infra/setup":{"post":{"security":[{"bearerauth":[]}],"description":"Setup infra components","produces":["application/json"],"tags":["install"],"summary":"Setup infra components","responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/types.Infra"}}}}},"/install/infra/status":{"get":{"security":[{"bearerauth":[]}],"description":"Get the current status of the infra","produces":["application/json"],"tags":["install"],"summary":"Get the status of the infra","responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/types.Infra"}}}}},"/install/installation/config":{"get":{"security":[{"bearerauth":[]}],"description":"get the installation config","produces":["application/json"],"tags":["install"],"summary":"Get the installation config","responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/types.InstallationConfig"}}}}},"/install/installation/configure":{"post":{"security":[{"bearerauth":[]}],"description":"configure the installation for install","consumes":["application/json"],"produces":["application/json"],"tags":["install"],"summary":"Configure the installation for install","parameters":[{"description":"Installation config","name":"installationConfig","in":"body","required":true,"schema":{"$ref":"#/definitions/types.InstallationConfig"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/types.Status"}}}}},"/install/installation/status":{"get":{"security":[{"bearerauth":[]}],"description":"Get the current status of the installation configuration for install","produces":["application/json"],"tags":["install"],"summary":"Get installation configuration status for install","responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/types.Status"}}}}},"/install/status":{"get":{"security":[{"bearerauth":[]}],"description":"Get the current status of the install workflow","produces":["application/json"],"tags":["install"],"summary":"Get the status of the install workflow","responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/types.Status"}}}},"post":{"security":[{"bearerauth":[]}],"description":"Set the status of the install workflow","consumes":["application/json"],"produces":["application/json"],"tags":["install"],"summary":"Set the status of the install workflow","parameters":[{"description":"Status","name":"status","in":"body","required":true,"schema":{"$ref":"#/definitions/types.Status"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/types.Status"}}}}}},"definitions":{"types.APIError":{"type":"object","properties":{"errors":{"type":"array","items":{"$ref":"#/definitions/types.APIError"}},"field":{"type":"string"},"message":{"type":"string"},"status_code":{"type":"integer"}}},"types.AuthRequest":{"type":"object","properties":{"password":{"type":"string"}}},"types.AuthResponse":{"type":"object","properties":{"token":{"type":"string"}}},"types.Health":{"type":"object","properties":{"status":{"type":"string"}}},"types.HostPreflightsOutput":{"type":"object","properties":{"fail":{"type":"array","items":{"$ref":"#/definitions/types.HostPreflightsRecord"}},"pass":{"type":"array","items":{"$ref":"#/definitions/types.HostPreflightsRecord"}},"warn":{"type":"array","items":{"$ref":"#/definitions/types.HostPreflightsRecord"}}}},"types.HostPreflightsRecord":{"type":"object","properties":{"message":{"type":"string"},"title":{"type":"string"}}},"types.Infra":{"type":"object","properties":{"components":{"type":"array","items":{"$ref":"#/definitions/types.InfraComponent"}},"logs":{"type":"string"},"status":{"$ref":"#/definitions/types.Status"}}},"types.InfraComponent":{"type":"object","properties":{"name":{"type":"string"},"status":{"$ref":"#/definitions/types.Status"}}},"types.InstallHostPreflightsStatusResponse":{"type":"object","properties":{"allowIgnoreHostPreflights":{"type":"boolean"},"output":{"$ref":"#/definitions/types.HostPreflightsOutput"},"status":{"$ref":"#/definitions/types.Status"},"titles":{"type":"array","items":{"type":"string"}}}},"types.InstallationConfig":{"type":"object","properties":{"adminConsolePort":{"type":"integer"},"dataDirectory":{"type":"string"},"globalCidr":{"type":"string"},"httpProxy":{"type":"string"},"httpsProxy":{"type":"string"},"localArtifactMirrorPort":{"type":"integer"},"networkInterface":{"type":"string"},"noProxy":{"type":"string"},"podCidr":{"type":"string"},"serviceCidr":{"type":"string"}}},"types.PostInstallRunHostPreflightsRequest":{"type":"object","properties":{"isUi":{"type":"boolean"}}},"types.State":{"type":"string","enum":["Pending","Running","Succeeded","Failed"],"x-enum-varnames":["StatePending","StateRunning","StateSucceeded","StateFailed"]},"types.Status":{"type":"object","properties":{"description":{"type":"string"},"lastUpdated":{"type":"string"},"state":{"$ref":"#/definitions/types.State"}}}},"externalDocs":{"description":"OpenAPI","url":"https://swagger.io/resources/open-api/"}}